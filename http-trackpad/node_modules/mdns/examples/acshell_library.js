#!/usr/bin/env node
var mdns   = require('../lib/mdns'),
    sys    = require('sys'),
    assert = require('assert');

var puts    = sys.puts,
    inspect = sys.inspect;

var txt_record = {
  readUser: "pr-reader",
  writeUser: "pr-editor",
  administrator: "sysad@artcom.de",
  editor: "danuta@artcom.de",
  rsyncPath: "/Users/david/artcom/ac_presentation_shell/demo_library"
};

var ad =  mdns.createAdvertisement(["acshell"], 22, undefined, undefined, undefined, "ART+COM Presentations", undefined, undefined, txt_record
               , function(err, info, flags) {
  puts("==== up");
  if (err) {
    assert.fail(err)
  } else {
    puts('Advertising', inspect(info));
  }
});
ad.start();

